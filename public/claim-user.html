<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="claim-title">J≈´s≈≥ pretenzija ‚Äì Rubineta</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2D2D2D;
            --primary-light: #4A4A4A;
            --primary-hover: #6B6B6B;
            --secondary: #FFCC00;
            --light: #F5F5F5;
            --white: #FFFFFF;
            --dark: #212121;
            --gray: #757575;
            --font: 'Roboto', sans-serif;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --info: #17a2b8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: var(--font);
        }

        body {
            background-color: var(--light);
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }

        header {
            background: var(--white);
            padding: 15px 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .logo { height: 50px; cursor: pointer; }
        
        nav a {
            margin: 0 15px;
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            font-size: 16px;
        }
        
        .language-selector {
            position: relative;
            display: inline-block;
        }
        
        .language-btn {
            background: var(--primary-light);
            color: var(--white);
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .language-dropdown {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            background: var(--white);
            min-width: 140px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-radius: 4px;
            overflow: hidden;
            z-index: 101;
        }
        
        .language-dropdown.show {
            display: block;
        }
        
        .language-option {
            padding: 10px 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: background 0.2s;
        }
        
        .language-option:hover {
            background: var(--light);
        }
        
        .language-flag {
            width: 24px;
            height: 18px;
            object-fit: cover;
            border: 1px solid #ddd;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .claim-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--white);
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }
        
        .claim-title {
            font-size: 1.8rem;
            color: var(--primary);
        }
        
        .status-badge {
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1rem;
        }
        
        .status-Nauja {
            background-color: var(--warning);
            color: #000;
        }
        
        .status-Perduota, .status-Vykdoma, .status-Laukiama-informacijos, .status-Perduota-servisui, .status-Laukiama-atsakymo {
            background-color: var(--info);
            color: white;
        }
        
        .status-I≈°nagrinƒóta, .status-I≈°sprƒôsta {
            background-color: var(--success);
            color: white;
        }
        
        .status-Atmesta {
            background-color: var(--danger);
            color: white;
        }
        
        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: var(--white);
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            padding: 20px;
            height: fit-content;
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .card-title {
            font-size: 1.2rem;
            color: var(--primary);
            font-weight: 600;
        }
        
        .info-group {
            margin-bottom: 15px;
        }
        
        .info-label {
            font-weight: 600;
            color: var(--gray);
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        .info-value {
            font-size: 1rem;
            color: var(--dark);
        }
        
        .files-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .file-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.2s;
            text-align: center;
            background: #f8f9fa;
        }
        
        .file-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .file-preview {
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--info);
        }
        
        .file-info {
            padding: 10px;
        }
        
        .file-name {
            font-size: 0.8rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: var(--dark);
        }
        
        .file-name a {
            text-decoration: none;
            color: inherit;
        }
        
        .timeline {
            position: relative;
            padding-left: 30px;
            margin-top: 20px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #ddd;
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 20px;
        }
        
        .timeline-dot {
            position: absolute;
            left: -30px;
            top: 5px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
        }
        
        .timeline-date {
            font-size: 0.8rem;
            color: var(--gray);
            margin-bottom: 5px;
        }
        
        .timeline-content {
            font-size: 0.9rem;
            color: var(--dark);
        }
        
        .specialist-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .specialist-list li {
            font-size: 1rem;
            color: var(--dark);
            padding: 5px 0;
            border-bottom: 1px solid #eee;
        }
        
        .specialist-list li:last-child {
            border-bottom: none;
        }
        
        footer {
            text-align: center;
            margin-top: 60px;
            padding: 20px;
            color: var(--gray);
            font-size: 12px;
            border-top: 1px solid #dee2e6;
            background: var(--secondary);
        }
        
        .footer-flags {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
        }
        
        .footer-flag {
            width: 30px;
            height: 20px;
            object-fit: cover;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .footer-flag:hover {
            transform: scale(1.1);
        }
        
        .back-button {
            background: var(--primary);
            color: var(--white);
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .back-button:hover {
            background: var(--primary-hover);
        }
        
        @media (max-width: 768px) {
            .cards-container {
                grid-template-columns: 1fr;
            }
            
            .claim-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            header {
                flex-direction: column;
                gap: 10px;
            }
            
            nav {
                display: flex;
                justify-content: center;
                flex-wrap: wrap;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <header>
        <img src="logo.jpg" alt="Rubineta Logo" class="logo" onclick="location.href='index.html'">
        <nav>
            <a href="index.html" data-translate="nav-home">Pagrindinis</a>
            <a href="duku.html" data-translate="nav-faq">DUK</a>
            <a href="login.html" data-translate="nav-login">Prisijungti</a>
        </nav>
        <div class="language-selector">
            <button class="language-btn" id="language-btn">
                <img src="LT.png" alt="LT" class="language-flag" id="current-flag">
                <span id="current-lang">LT</span>
            </button>
            <div class="language-dropdown" id="language-dropdown">
                <div class="language-option" data-lang="lt">
                    <img src="LT.png" alt="LT" class="language-flag">
                    <span>Lietuvi≈≥</span>
                </div>
                <div class="language-option" data-lang="lv">
                    <img src="LV.png" alt="LV" class="language-flag">
                    <span>Latvie≈°u</span>
                </div>
                <div class="language-option" data-lang="ru">
                    <img src="RU.png" alt="RU" class="language-flag">
                    <span>–†—É—Å—Å–∫–∏–π</span>
                </div>
                <div class="language-option" data-lang="en">
                    <img src="UK.png" alt="EN" class="language-flag">
                    <span>English</span>
                </div>
                <div class="language-option" data-lang="kz">
                    <img src="KZ.png" alt="KZ" class="language-flag">
                    <span>“ö–∞–∑–∞“õ—à–∞</span>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <button class="back-button" onclick="history.back()">
            ‚Üê <span data-translate="back-button">GrƒØ≈æti atgal</span>
        </button>

        <div class="claim-header">
            <div class="claim-title"><span data-translate="claim-title-full">Pretenzija</span> #<span id="claim-id"></span></div>
            <div class="status-badge" id="claim-status-badge"></div>
        </div>

        <div class="cards-container">
            <!-- Pagrindinƒó informacija -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title" data-translate="main-info-title">Pagrindinƒó informacija</div>
                </div>
                <div class="info-group">
                    <div class="info-label" data-translate="claim-date-label">Pateikimo data</div>
                    <div class="info-value" id="claim-date"></div>
                </div>
                <div class="info-group">
                    <div class="info-label" data-translate="claim-topic-label">Tema</div>
                    <div class="info-value" id="claim-topic"></div>
                </div>
                <div class="info-group">
                    <div class="info-label" data-translate="claim-product-label">Produkto pavadinimas</div>
                    <div class="info-value" id="claim-product"></div>
                </div>
            </div>

            <!-- Apra≈°ymas -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title" data-translate="claim-description-title">Pretenzijos apra≈°ymas</div>
                </div>
                <div class="info-group">
                    <div class="info-value" id="claim-description"></div>
                </div>
            </div>
            
            <!-- Paskirti specialistai -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title" data-translate="assigned-specialists-title">Paskirti specialistai</div>
                </div>
                <ul class="specialist-list" id="assigned-specialists">
                    <!-- Specialistai bus ƒØkelti JavaScript'u -->
                </ul>
            </div>

            <!-- Kliento pageidavimai -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title" data-translate="claim-request-title">Kliento pageidavimai</div>
                </div>
                <div class="info-group">
                    <div class="info-label" data-translate="claim-request-label">Pageidavimas</div>
                    <div class="info-value" id="claim-request"></div>
                </div>
            </div>

            <!-- Prikabinti dokumentai -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title" data-translate="attached-documents-title">Prikabinti dokumentai</div>
                </div>
                <div class="info-group">
                    <div class="info-label" data-translate="purchase-document-title">Pirkimo dokumentas</div>
                    <div class="files-container" id="purchase-document"></div>
                </div>
                <div class="info-group">
                    <div class="info-label" data-translate="user-files-title">Vartotojo dokumentai</div>
                    <div class="files-container" id="user-files"></div>
                </div>
                <div class="info-group">
                    <div class="info-label" data-translate="additional-files-title">Papildomi dokumentai</div>
                    <div class="files-container" id="additional-files"></div>
                </div>
            </div>

            <!-- B≈´senos istorija -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title" data-translate="status-history-title">B≈´senos istorija</div>
                </div>
                <div class="timeline" id="status-history"></div>
            </div>
        </div>
    </div>

    <footer>
        <div data-translate="footer">¬© 2025 Rubineta. Visos teisƒós saugomos. | info@rubineta.lt</div>
        <div class="footer-flags">
            <img src="LT.png" alt="Lietuvi≈≥" class="footer-flag" data-lang="lt">
            <img src="LV.png" alt="Latvie≈°u" class="footer-flag" data-lang="lv">
            <img src="RU.png" alt="–†—É—Å—Å–∫–∏–π" class="footer-flag" data-lang="ru">
            <img src="UK.png" alt="English" class="footer-flag" data-lang="en">
            <img src="KZ.png" alt="“ö–∞–∑–∞“õ—à–∞" class="footer-flag" data-lang="kz">
        </div>
    </footer>

    <script>
        const translations = {
            lt: {
                "nav-home": "Pagrindinis",
                "nav-faq": "DUK",
                "nav-login": "Prisijungti",
                "back-button": "GrƒØ≈æti atgal",
                "claim-title-full": "Pretenzija",
                "main-info-title": "Pagrindinƒó informacija",
                "claim-date-label": "Pateikimo data",
                "claim-topic-label": "Tema",
                "claim-product-label": "Produkto pavadinimas",
                "claim-description-title": "Pretenzijos apra≈°ymas",
                "assigned-specialists-title": "Paskirti specialistai",
                "no-specialists": "Nƒóra paskirt≈≥ specialist≈≥",
                "claim-request-title": "Kliento pageidavimai",
                "claim-request-label": "Pageidavimas",
                "attached-documents-title": "Prikabinti dokumentai",
                "purchase-document-title": "Pirkimo dokumentas",
                "user-files-title": "Vartotojo dokumentai",
                "additional-files-title": "Papildomi dokumentai",
                "status-history-title": "B≈´senos istorija",
                "footer": "¬© 2025 Rubineta. Visos teisƒós saugomos. | info@rubineta.lt",
                "no-files": "Nƒóra ƒØkelt≈≥ fail≈≥",
                "no-purchase-document": "Pirkimo dokumentas nerastas.",
                "no-additional-files": "Nƒóra papildom≈≥ dokument≈≥",
                "claim-submitted": "Pretenzija pateikta",
                "status-changed": "B≈´sena: ",
                "resolved": "I≈°sprƒôsta",
                "no-claim-id": "Nenurodytas pretenzijos ID.",
                "claim-not-found": "Pretenzija nerasta.",
                "not-specified": "Nenurodyta",
                "view-photo": "Nuotrauka",
                "view-video": "Video",
                "open-pdf": "PDF dokumentas",
                "download-document": "Dokumentas",
                "Nauja": "Nauja",
                "Perduota": "Perduota",
                "Vykdoma": "Vykdoma",
                "Laukiama informacijos": "Laukiama informacijos",
                "I≈°nagrinƒóta": "I≈°nagrinƒóta",
                "I≈°sprƒôsta": "I≈°sprƒôsta",
                "Atmesta": "Atmesta",
                "Perduota servisui": "Perduota servisui",
                "Laukiama atsakymo": "Laukiama atsakymo",
                "Bendrieji klausimai": "Bendrieji klausimai",
                "Produkto informacija": "Produkto informacija",
                "Atsargini≈≥ dali≈≥ informacija": "Atsargini≈≥ dali≈≥ informacija",
                "Techninƒó pagalba": "Techninƒó pagalba",
                "Produkto problema": "Produkto problema",
                "Atsiliepimai": "Atsiliepimai",
                "send-part": "I≈°si≈≥sti atsarginƒô dalƒØ",
                "send-technician": "Si≈≥sti meistrƒÖ",
                "exchange": "Keisti produktƒÖ",
                "choose": "Kita"
            },
            lv: {
                "nav-home": "GalvenƒÅ",
                "nav-faq": "BUJ",
                "nav-login": "Pieslƒìgties",
                "back-button": "Atpakaƒº",
                "claim-title-full": "Pretenzija",
                "main-info-title": "PamatinformƒÅcija",
                "claim-date-label": "Iesnieg≈°anas datums",
                "claim-topic-label": "Temats",
                "claim-product-label": "Produkta nosaukums",
                "claim-description-title": "Pretenzijas apraksts",
                "assigned-specialists-title": "Pie≈°ƒ∑irtie speciƒÅlisti",
                "no-specialists": "Nav pie≈°ƒ∑irtu speciƒÅlistu",
                "claim-request-title": "Klienta prasƒ´bas",
                "claim-request-label": "Prasƒ´ba",
                "attached-documents-title": "Pievienotie dokumenti",
                "purchase-document-title": "Pirkuma dokuments",
                "user-files-title": "LietotƒÅja dokumenti",
                "additional-files-title": "Papildu dokumenti",
                "status-history-title": "Statusa vƒìsture",
                "footer": "¬© 2025 Rubineta. Visas tiesƒ´bas aizsargƒÅtas. | info@rubineta.lv",
                "no-files": "Nav aug≈°upielƒÅdƒìtu failu",
                "no-purchase-document": "Pirkuma dokuments netika atrasts.",
                "no-additional-files": "Nav papildu dokumentu",
                "claim-submitted": "Pretenzija iesniegta",
                "status-changed": "Statuss: ",
                "resolved": "AtrisinƒÅts",
                "no-claim-id": "Nav norƒÅdƒ´ts pretenzijas ID.",
                "claim-not-found": "Pretenzija netika atrasta.",
                "not-specified": "Nav norƒÅdƒ´ts",
                "view-photo": "Attƒìls",
                "view-video": "Video",
                "open-pdf": "PDF dokuments",
                "download-document": "Dokuments",
                "Nauja": "Jauna",
                "Perduota": "Nodota",
                "Vykdoma": "ProcesƒÅ",
                "Laukiama informacijos": "Gaida informƒÅciju",
                "I≈°nagrinƒóta": "Izskatƒ´ta",
                "I≈°sprƒôsta": "AtrisinƒÅta",
                "Atmesta": "Noraidƒ´ta",
                "Perduota servisui": "Nodota servisam",
                "Laukiama atsakymo": "Gaida atbildi",
                "Bendrieji klausimai": "VispƒÅrƒ´gi jautƒÅjumi",
                "Produkto informacija": "Produkta informƒÅcija",
                "Atsargini≈≥ dali≈≥ informacija": "Rezerves daƒºu informƒÅcija",
                "Techninƒó pagalba": "TehniskƒÅ atbalsts",
                "Produkto problema": "Produkta problƒìma",
                "Atsiliepimai": "Atsauksmes",
                "send-part": "Nos≈´tƒ´t rezerves daƒºu",
                "send-technician": "Nos≈´tƒ´t meistaru",
                "exchange": "Apmainƒ´t preci",
                "choose": "Cits"
            },
            ru: {
                "nav-home": "–ì–ª–∞–≤–Ω–∞—è",
                "nav-faq": "–ß–ó–í",
                "nav-login": "–í–æ–π—Ç–∏",
                "back-button": "–ù–∞–∑–∞–¥",
                "claim-title-full": "–ü—Ä–µ—Ç–µ–Ω–∑–∏—è",
                "main-info-title": "–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",
                "claim-date-label": "–î–∞—Ç–∞ –ø–æ–¥–∞—á–∏",
                "claim-topic-label": "–¢–µ–º–∞",
                "claim-product-label": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞",
                "claim-description-title": "–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏",
                "assigned-specialists-title": "–ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã",
                "no-specialists": "–ù–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤",
                "claim-request-title": "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞",
                "claim-request-label": "–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ",
                "attached-documents-title": "–ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã",
                "purchase-document-title": "–î–æ–∫—É–º–µ–Ω—Ç –æ –ø–æ–∫—É–ø–∫–µ",
                "user-files-title": "–î–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
                "additional-files-title": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã",
                "status-history-title": "–ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–∞",
                "footer": "¬© 2025 Rubineta. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. | info@rubineta.ru",
                "no-files": "–ù–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤",
                "no-purchase-document": "–î–æ–∫—É–º–µ–Ω—Ç –æ –ø–æ–∫—É–ø–∫–µ –Ω–µ –Ω–∞–π–¥–µ–Ω.",
                "no-additional-files": "–ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤",
                "claim-submitted": "–ü—Ä–µ—Ç–µ–Ω–∑–∏—è –ø–æ–¥–∞–Ω–∞",
                "status-changed": "–°—Ç–∞—Ç—É—Å: ",
                "resolved": "–†–µ—à–µ–Ω–æ",
                "no-claim-id": "–ù–µ —É–∫–∞–∑–∞–Ω ID –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏.",
                "claim-not-found": "–ü—Ä–µ—Ç–µ–Ω–∑–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.",
                "not-specified": "–ù–µ —É–∫–∞–∑–∞–Ω–æ",
                "view-photo": "–§–æ—Ç–æ",
                "view-video": "–í–∏–¥–µ–æ",
                "open-pdf": "PDF –¥–æ–∫—É–º–µ–Ω—Ç",
                "download-document": "–î–æ–∫—É–º–µ–Ω—Ç",
                "Nauja": "–ù–æ–≤–∞—è",
                "Perduota": "–ü–µ—Ä–µ–¥–∞–Ω–∞",
                "Vykdoma": "–í –ø—Ä–æ—Ü–µ—Å—Å–µ",
                "Laukiama informacijos": "–û–∂–∏–¥–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏",
                "I≈°nagrinƒóta": "–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∞",
                "I≈°sprƒôsta": "–†–µ—à–µ–Ω–∞",
                "Atmesta": "–û—Ç–∫–ª–æ–Ω–µ–Ω–∞",
                "Perduota servisui": "–ü–µ—Ä–µ–¥–∞–Ω–∞ –≤ —Å–µ—Ä–≤–∏—Å",
                "Laukiama atsakymo": "–û–∂–∏–¥–∞–µ—Ç –æ—Ç–≤–µ—Ç–∞",
                "Bendrieji klausimai": "–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã",
                "Produkto informacija": "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥—É–∫—Ç–µ",
                "Atsargini≈≥ dali≈≥ informacija": "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—á–∞—Å—Ç—è—Ö",
                "Techninƒó pagalba": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞",
                "Produkto problema": "–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–æ–¥—É–∫—Ç–æ–º",
                "Atsiliepimai": "–û—Ç–∑—ã–≤—ã",
                "send-part": "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—á–∞—Å—Ç—å",
                "send-technician": "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –º–∞—Å—Ç–µ—Ä–∞",
                "exchange": "–û–±–º–µ–Ω—è—Ç—å –ø—Ä–æ–¥—É–∫—Ç",
                "choose": "–î—Ä—É–≥–æ–µ"
            },
            en: {
                "nav-home": "Home",
                "nav-faq": "FAQ",
                "nav-login": "Login",
                "back-button": "Go back",
                "claim-title-full": "Claim",
                "main-info-title": "Main Information",
                "claim-date-label": "Submission date",
                "claim-topic-label": "Topic",
                "claim-product-label": "Product name",
                "claim-description-title": "Claim description",
                "assigned-specialists-title": "Assigned specialists",
                "no-specialists": "No specialists assigned",
                "claim-request-title": "Customer requests",
                "claim-request-label": "Request",
                "attached-documents-title": "Attached documents",
                "purchase-document-title": "Purchase document",
                "user-files-title": "User documents",
                "additional-files-title": "Additional files",
                "status-history-title": "Status history",
                "footer": "¬© 2025 Rubineta. All rights reserved. | info@rubineta.lt",
                "no-files": "No files uploaded",
                "no-purchase-document": "Purchase document not found.",
                "no-additional-files": "No additional documents",
                "claim-submitted": "Claim submitted",
                "status-changed": "Status: ",
                "resolved": "Resolved",
                "no-claim-id": "No claim ID specified.",
                "claim-not-found": "Claim not found.",
                "not-specified": "Not specified",
                "view-photo": "Photo",
                "view-video": "Video",
                "open-pdf": "PDF document",
                "download-document": "Document",
                "Nauja": "New",
                "Perduota": "Forwarded",
                "Vykdoma": "In Progress",
                "Laukiama informacijos": "Awaiting Information",
                "I≈°nagrinƒóta": "Reviewed",
                "I≈°sprƒôsta": "Resolved",
                "Atmesta": "Rejected",
                "Perduota servisui": "Forwarded to Service",
                "Laukiama atsakymo": "Awaiting Response",
                "Bendrieji klausimai": "General questions",
                "Produkto informacija": "Product information",
                "Atsargini≈≥ dali≈≥ informacija": "Spare parts information",
                "Techninƒó pagalba": "Technical support",
                "Produkto problema": "Product problem",
                "Atsiliepimai": "Feedback",
                "send-part": "Send spare part",
                "send-technician": "Send a technician",
                "exchange": "Exchange product",
                "choose": "Other"
            },
            kz: {
                "nav-home": "–ë–∞—Å—Ç—ã –±–µ—Ç",
                "nav-faq": "–ñ–ò–°",
                "nav-login": "–ö—ñ—Ä—É",
                "back-button": "–ê—Ä—Ç“õ–∞",
                "claim-title-full": "–®–∞“ì—ã–º",
                "main-info-title": "–ù–µ–≥—ñ–∑–≥—ñ –∞“õ–ø–∞—Ä–∞—Ç",
                "claim-date-label": "–ñ—ñ–±–µ—Ä—ñ–ª–≥–µ–Ω –∫“Ø–Ω—ñ",
                "claim-topic-label": "–¢–∞“õ—ã—Ä—ã–±—ã",
                "claim-product-label": "”®–Ω—ñ–º–Ω—ñ“£ –∞—Ç–∞—É—ã",
                "claim-description-title": "–®–∞“ì—ã–º —Å–∏–ø–∞—Ç—Ç–∞–º–∞—Å—ã",
                "assigned-specialists-title": "–¢–∞“ì–∞–π—ã–Ω–¥–∞–ª“ì–∞–Ω –º–∞–º–∞–Ω–¥–∞—Ä",
                "no-specialists": "–¢–∞“ì–∞–π—ã–Ω–¥–∞–ª“ì–∞–Ω –º–∞–º–∞–Ω–¥–∞—Ä –∂–æ“õ",
                "claim-request-title": "–¢“±—Ç—ã–Ω—É—à—ã–Ω—ã“£ —Ç–∞–ª–∞–ø—Ç–∞—Ä—ã",
                "claim-request-label": "–¢–∞–ª–∞–ø",
                "attached-documents-title": "–¢—ñ—Ä–∫–µ–ª–≥–µ–Ω “õ“±–∂–∞—Ç—Ç–∞—Ä",
                "purchase-document-title": "–°–∞—Ç—ã–ø –∞–ª—É “õ“±–∂–∞—Ç—ã",
                "user-files-title": "–ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã “õ“±–∂–∞—Ç—Ç–∞—Ä—ã",
                "additional-files-title": "“ö–æ—Å—ã–º—à–∞ “õ“±–∂–∞—Ç—Ç–∞—Ä",
                "status-history-title": "–ö“Ø–π—ñ–Ω—ñ“£ —Ç–∞—Ä–∏—Ö—ã",
                "footer": "¬© 2025 Rubineta. –ë–∞—Ä–ª—ã“õ “õ“±“õ—ã“õ—Ç–∞—Ä “õ–æ—Ä“ì–∞–ª“ì–∞–Ω. | info@rubineta.kz",
                "no-files": "–ñ“Ø–∫—Ç–µ–ª–≥–µ–Ω —Ñ–∞–π–ª–¥–∞—Ä –∂–æ“õ",
                "no-purchase-document": "–°–∞—Ç—ã–ø –∞–ª—É “õ“±–∂–∞—Ç—ã —Ç–∞–±—ã–ª–º–∞–¥—ã.",
                "no-additional-files": "“ö–æ—Å—ã–º—à–∞ “õ“±–∂–∞—Ç—Ç–∞—Ä –∂–æ“õ",
                "claim-submitted": "–®–∞“ì—ã–º “õ–∞–±—ã–ª–¥–∞–Ω–¥—ã",
                "status-changed": "–ö“Ø–π—ñ: ",
                "resolved": "–®–µ—à—ñ–ª–¥—ñ",
                "no-claim-id": "–®–∞“ì—ã–º–Ω—ã“£ ID-—Å—ã –∫”©—Ä—Å–µ—Ç—ñ–ª–º–µ–≥–µ–Ω.",
                "claim-not-found": "–®–∞“ì—ã–º —Ç–∞–±—ã–ª–º–∞–¥—ã.",
                "not-specified": "–ö”©—Ä—Å–µ—Ç—ñ–ª–º–µ–≥–µ–Ω",
                "view-photo": "–§–æ—Ç–æ",
                "view-video": "–í–∏–¥–µ–æ",
                "open-pdf": "PDF “õ“±–∂–∞—Ç—ã",
                "download-document": "“ö“±–∂–∞—Ç",
                "Nauja": "–ñ–∞“£–∞",
                "Perduota": "–ñ—ñ–±–µ—Ä—ñ–ª–¥—ñ",
                "Vykdoma": "–û—Ä—ã–Ω–¥–∞–ª—É–¥–∞",
                "Laukiama informacijos": "–ê“õ–ø–∞—Ä–∞—Ç –∫“Ø—Ç—ñ–ª—É–¥–µ",
                "I≈°nagrinƒóta": "“ö–∞—Ä–∞—Å—Ç—ã—Ä—ã–ª–¥—ã",
                "I≈°sprƒôsta": "–®–µ—à—ñ–ª–¥—ñ",
                "Atmesta": "“ö–∞–±—ã–ª–¥–∞–Ω–±–∞–¥—ã",
                "Perduota servisui": "–°–µ—Ä–≤–∏—Å—Ç–µ",
                "Laukiama atsakymo": "–ñ–∞—É–∞–ø –∫“Ø—Ç—ñ–ª—É–¥–µ",
                "Bendrieji klausimai": "–ñ–∞–ª–ø—ã —Å“±—Ä–∞“õ—Ç–∞—Ä",
                "Produkto informacija": "”®–Ω—ñ–º —Ç—É—Ä–∞–ª—ã –∞“õ–ø–∞—Ä–∞—Ç",
                "Atsargini≈≥ dali≈≥ informacija": "“ö–æ—Å–∞–ª“õ—ã –±”©–ª—à–µ–∫—Ç–µ—Ä —Ç—É—Ä–∞–ª—ã –∞“õ–ø–∞—Ä–∞—Ç",
                "Techninƒó pagalba": "–¢–µ—Ö–Ω–∏–∫–∞–ª—ã“õ –∫”©–º–µ–∫",
                "Produkto problema": "”®–Ω—ñ–º –º”ô—Å–µ–ª–µ—Å—ñ",
                "Atsiliepimai": "–ö–µ—Ä—ñ –±–∞–π–ª–∞–Ω—ã—Å",
                "send-part": "“ö–æ—Å–∞–ª“õ—ã –±”©–ª—à–µ–∫—Ç—ñ –∂—ñ–±–µ—Ä—É",
                "send-technician": "–®–µ–±–µ—Ä –∂—ñ–±–µ—Ä—É",
                "exchange": "”®–Ω—ñ–º–¥—ñ –∞—É—ã—Å—Ç—ã—Ä—É",
                "choose": "–ë–∞—Å“õ–∞"
            }
        };

        let currentLang = localStorage.getItem('language') || 'lt';
        let claim = null;

        function updateLanguageButton() {
            const btn = document.getElementById('language-btn');
            const flag = document.getElementById('current-flag');
            const langText = document.getElementById('current-lang');
            flag.src = getFlagSrc(currentLang);
            flag.alt = currentLang.toUpperCase();
            langText.textContent = currentLang.toUpperCase();
        }

        function getFlagSrc(lang) {
            switch(lang) {
                case 'lt': return "LT.png";
                case 'lv': return "LV.png";
                case 'ru': return "RU.png";
                case 'en': return "UK.png";
                case 'kz': return "KZ.png";
                default: return "LT.png";
            }
        }

        function changeLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('language', lang);
            applyTranslations();
            updateLanguageButton();
            document.documentElement.lang = lang;
            if (claim) {
                updateClaimData();
            }
        }

        function applyTranslations() {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[currentLang] && translations[currentLang][key]) {
                    element.textContent = translations[currentLang][key];
                }
            });
        }
        
        function translateStatus(status) {
            return translations[currentLang]?.[status] || status;
        }

        function translateTopic(topic) {
            return translations[currentLang]?.[topic] || topic;
        }

        function translateRequest(request) {
            return translations[currentLang]?.[request] || request;
        }
        
        function getLocaleFromLang(lang) {
            switch(lang) {
                case 'lt': return 'lt-LT';
                case 'lv': return 'lv-LV';
                case 'ru': return 'ru-RU';
                case 'en': return 'en-GB';
                case 'kz': return 'kk-KZ';
                default: return 'lt-LT';
            }
        }
        
        function updateClaimData() {
            if (!claim) return;

            const options = {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit'
            };

            document.getElementById('claim-date').textContent = new Date(claim.date).toLocaleString(getLocaleFromLang(currentLang), options);
            
            const statusBadge = document.getElementById('claim-status-badge');
            statusBadge.textContent = translateStatus(claim.status);
            const safeStatus = claim.status.replace(/\s+/g, '-').replace(/[^a-zA-Z0-9-]/g, '');
            statusBadge.className = 'status-badge status-' + safeStatus;
            
            document.getElementById('claim-topic').textContent = translateTopic(claim.topic);
            document.getElementById('claim-request').textContent = translateRequest(claim.request);
            
            updateAssignedSpecialists();
            updateStatusHistory();
        }
        
        function updateAssignedSpecialists() {
            const specialistsContainer = document.getElementById('assigned-specialists');
            specialistsContainer.innerHTML = '';
            
            if (claim.assignedSpecialists && claim.assignedSpecialists.length > 0) {
                claim.assignedSpecialists.forEach(specialist => {
                    const li = document.createElement('li');
                    li.textContent = specialist;
                    specialistsContainer.appendChild(li);
                });
            } else {
                const li = document.createElement('li');
                li.textContent = translations[currentLang]?.['no-specialists'] || 'Nƒóra paskirt≈≥ specialist≈≥';
                specialistsContainer.appendChild(li);
            }
        }


        function updateStatusHistory() {
            const historyContainer = document.getElementById('status-history');
            historyContainer.innerHTML = '';
            
            const historyEvents = claim.statusHistory ? [...claim.statusHistory] : [
                { status: claim.status, timestamp: claim.date }
            ];
            
            historyEvents.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));
            
            const dateOptions = {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit'
            };

            let locale = getLocaleFromLang(currentLang);
            
            historyEvents.forEach(event => {
                const item = document.createElement('div');
                item.className = 'timeline-item';
                const translatedStatus = translateStatus(event.status);
                const timelineText = translations[currentLang]['status-changed'] + translatedStatus;
                item.innerHTML = `
                    <div class="timeline-dot"></div>
                    <div class="timeline-date">${new Date(event.timestamp).toLocaleString(locale, dateOptions)}</div>
                    <div class="timeline-content">${timelineText}</div>
                `;
                historyContainer.appendChild(item);
            });
        }
        
        function getFilePreview(url, name) {
            let icon = 'üìé';
            let translatedName = translations[currentLang]['download-document'];
            const fileName = url.split('/').pop();
            if (url.match(/\.(jpg|jpeg|png|webp)$/i)) {
                icon = 'üñºÔ∏è';
                translatedName = translations[currentLang]['view-photo'];
            } else if (url.match(/\.(mp4|webm|mov)$/i)) {
                icon = 'üìπ';
                translatedName = translations[currentLang]['view-video'];
            } else if (url.match(/\.(pdf)$/i)) {
                icon = 'üìÑ';
                translatedName = translations[currentLang]['open-pdf'];
            }
            return `
                <a href="${url}" target="_blank">
                    <div class="file-preview">${icon}</div>
                    <div class="file-info">
                        <div class="file-name" title="${fileName}">${translatedName}</div>
                    </div>
                </a>
            `;
        }
        
        function loadClaimData() {
            const urlParams = new URLSearchParams(window.location.search);
            const claimId = urlParams.get('id');
            
            if (!claimId) {
                alert(translations[currentLang]?.['no-claim-id'] || 'Nenurodytas pretenzijos ID.');
                history.back();
                return;
            }

            const claims = JSON.parse(localStorage.getItem('claims') || '[]');
            claim = claims.find(c => c.id === claimId);
            
            // Temporary dummy data for demonstration
            if (!claim) {
                 claim = {
                    id: claimId,
                    date: new Date().toISOString(),
                    status: 'Perduota servisui',
                    topic: 'Techninƒó pagalba',
                    product: 'Mai≈°ytuvas "Aqua-Flow Pro"',
                    description: 'Mai≈°ytuvas leid≈æia vandenƒØ ties sand≈´ra su vamzd≈æiu.',
                    request: 'send-technician',
                    files: [],
                    purchaseDocument: 'https://cdn.pixabay.com/photo/2016/06/02/09/27/document-1430939_1280.png',
                    additionalFiles: [
                        { url: 'https://www.youtube.com/embed/dQw4w9WgXcQ', name: 'video.mp4' },
                        { url: 'https://cdn.pixabay.com/photo/2017/10/17/19/27/pdf-2861575_1280.png', name: 'manual.pdf' }
                    ],
                    statusHistory: [
                        { status: 'Nauja', timestamp: new Date(new Date().setHours(new Date().getHours() - 10)).toISOString() },
                        { status: 'Perduota', timestamp: new Date(new Date().setHours(new Date().getHours() - 8)).toISOString() },
                        { status: 'Perduota servisui', timestamp: new Date(new Date().setHours(new Date().getHours() - 5)).toISOString() }
                    ],
                    assignedSpecialists: ['Jonas Petraitis', 'Petras Jonaitis']
                };
            }


            if (!claim) {
                alert(translations[currentLang]?.['claim-not-found'] || 'Pretenzija nerasta.');
                history.back();
                return;
            }
            
            if (claim.language) {
                changeLanguage(claim.language);
            }

            document.getElementById('claim-id').textContent = claim.id;
            document.getElementById('claim-product').textContent = claim.product;
            document.getElementById('claim-description').textContent = claim.description;
            
            const userFilesContainer = document.getElementById('user-files');
            userFilesContainer.innerHTML = '';
            if (Array.isArray(claim.files) && claim.files.length > 0) {
                claim.files.forEach(url => {
                    const item = document.createElement('div');
                    item.className = 'file-item';
                    item.innerHTML = getFilePreview(url, url.split('/').pop());
                    userFilesContainer.appendChild(item);
                });
            } else {
                userFilesContainer.innerHTML = `<div class="file-item" style="grid-column: 1 / -1; background: none; border: none; text-align: left; padding: 0;">${translations[currentLang]['no-files']}</div>`;
            }
            
            const purchaseDocContainer = document.getElementById('purchase-document');
            purchaseDocContainer.innerHTML = '';
            if (claim.purchaseDocument) {
                const item = document.createElement('div');
                item.className = 'file-item';
                item.innerHTML = getFilePreview(claim.purchaseDocument, 'Pirkimo dokumentas');
                purchaseDocContainer.appendChild(item);
            } else {
                purchaseDocContainer.innerHTML = `<div class="file-item" style="grid-column: 1 / -1; background: none; border: none; text-align: left; padding: 0; color:#dc3545;">${translations[currentLang]['no-purchase-document']}</div>`;
            }
            
            const additionalFilesContainer = document.getElementById('additional-files');
            additionalFilesContainer.innerHTML = '';
            if (claim.additionalFiles && claim.additionalFiles.length > 0) {
                claim.additionalFiles.forEach(att => {
                    const item = document.createElement('div');
                    item.className = 'file-item';
                    item.innerHTML = getFilePreview(att.url, att.name);
                    additionalFilesContainer.appendChild(item);
                });
            } else {
                additionalFilesContainer.innerHTML = `<div class="file-item" style="grid-column: 1 / -1; background: none; border: none; text-align: left; padding: 0;">${translations[currentLang]['no-additional-files']}</div>`;
            }

            updateClaimData();
        }

        document.addEventListener('DOMContentLoaded', function() {
            const languageBtn = document.getElementById('language-btn');
            const languageDropdown = document.getElementById('language-dropdown');
            
            languageBtn.addEventListener('click', () => {
                languageDropdown.classList.toggle('show');
            });
            
            document.addEventListener('click', (event) => {
                if (!languageBtn.contains(event.target) && !languageDropdown.contains(event.target)) {
                    languageDropdown.classList.remove('show');
                }
            });
            
            document.querySelectorAll('.language-option').forEach(option => {
                option.addEventListener('click', () => {
                    const lang = option.getAttribute('data-lang');
                    changeLanguage(lang);
                    languageDropdown.classList.remove('show');
                });
            });
            
            document.querySelectorAll('.footer-flag').forEach(flag => {
                flag.addEventListener('click', () => {
                    const lang = flag.getAttribute('data-lang');
                    changeLanguage(lang);
                });
            });

            loadClaimData();
            applyTranslations();
            updateLanguageButton();
            document.documentElement.lang = currentLang;
        });
    </script>
</body>
</html>
